

#include <stdio.h>
#define max 100
#define vertex_len 5
int explored[vertex_len];
int min_distance[vertex_len];
int my_tree[vertex_len];
int dis_mat[vertex_len][vertex_len];

int next_vertex()
{
    int min_index=0;
    int min=100;
    int i;
    
    for(i=0;i<vertex_len;i++)
    {
      if(explored[i]==0 && min_distance[i]<min)
      {
        min_index=i;
        min=min_distance[i];
      }
    }
    
    return min_index;
}

void update_keys(int new_added_vertex)
{
  int i=0;
  for(i;i<vertex_len;i++)
  {
    if(dis_mat[new_added_vertex][i] && explored[i]==0 && dis_mat[new_added_vertex][i]<min_distance[i])
    {
        printf("->WOW.! vertex %d is not in the tree and there is a path between %d and %d and it seems to be the newer path is a better choice so im updating the min distance matrix \n",i,new_added_vertex,i);      
        min_distance[i]=dis_mat[new_added_vertex][i];
        
        printf("->Let me add %d as the probable parent of %d \n",new_added_vertex,i);
        my_tree[i]=new_added_vertex;
    }
    
    else if(explored[i]==1) printf("->vertex %d is allready in the tree , so im skiping it \n",i);
    else if(dis_mat[new_added_vertex][i]==0) printf("->There is no path between my new vertex %d and %d,so skiping it \n",new_added_vertex,i);
    else printf("->The new path length between %d and %d seems to be higher than the existing one so skiping it \n",i,new_added_vertex);
    
    printf("\n");
    
  }
}

void prins_algo()
{
    int next,i=0;
    for(i;i<vertex_len;i++) 
    {
      min_distance[i]=max;
      explored[i]=0;
    }
    min_distance[0]=0;
    
    my_tree[0]=-1;
    
    
    for(i=0;i<vertex_len-1;i++)
    {
      
      next=next_vertex();
      printf("->I found the %d minimum,its  vertex %d \n",i+1,next);
      explored[next]=1;
      printf("->Let me find new connections with this new vertex %d \n",next);
      update_keys(next);
      printf("\n");
      printf("\n");
    }
}

void print_tree()
{
  int i=1;
    printf("Edge  Weight\n");
    for(i;i<vertex_len;i++)
    {
      printf("%d-%d     %d\n",my_tree[i],i,dis_mat[i][my_tree[i]]);
    }
}

int main()
{
    int l_dis_mat[vertex_len][vertex_len]={
                      {0, 2, 0, 6, 0},
                      {2, 0, 3, 8, 5},
                      {0, 3, 0, 0, 7},
                      {6, 8, 0, 0, 9},
                      {0, 5, 7, 9, 0},
                     };
    int i=0,j=0;
    for(i;i<vertex_len;i++)
    {
      for(j=0;j<vertex_len;j++)
      {
        dis_mat[i][j]=l_dis_mat[i][j];
      }
     
    }
    prins_algo();
    print_tree();
    
    

    return 0;
}
